(()=>{const e=document.querySelector("#userLocation"),n=document.getElementById("submitLocation"),t=document.getElementsByTagName("span"),a=document.querySelector("h5");console.log(t),n.addEventListener("click",(n=>{n.preventDefault(),console.log("salom",e.value),""===e.value?fetch("https://api.openweathermap.org/data/2.5/weather?q=tashkent&appid=abad344b6b4aba506fc207f3f39d0e92",{mode:"cors"}).then((e=>e.json())).then((function(e){console.log(e),a.innerHTML=e.name,t[0].innerHTML=`${Math.round(1*(e.main.temp-273))}&#176;`,t[1].innerHTML=`${e.main.humidity}%`,t[2].innerHTML=`${e.wind.speed} m/s`,t[3].innerHTML=`${e.clouds.all}%`,document.getElementsByClassName("dates")[0].style.display="block"})).catch((e=>{console.log(e),alert("something went wrong"),document.getElementsByClassName("dates")[0].style.display="none"})):(fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e.value}&appid=abad344b6b4aba506fc207f3f39d0e92`,{mode:"cors"}).then((e=>e.json())).then((function(e){console.log(e),a.innerHTML=e.name,t[0].innerHTML=`${Math.round(1*(e.main.temp-273))}&#176;`,t[1].innerHTML=`${e.main.humidity}%`,t[2].innerHTML=`${e.wind.speed} m/s`,t[3].innerHTML=`${e.clouds.all}%`,document.getElementsByClassName("dates")[0].style.display="block"})).catch((e=>{console.log(e),alert("City not found"),document.getElementsByClassName("dates")[0].style.display="none"})),e.value="")})),fetch("https://api.openweathermap.org/data/2.5/weather?q=tashkent&appid=abad344b6b4aba506fc207f3f39d0e92",{mode:"cors"}).then((e=>e.json())).then((function(e){console.log(e),a.innerHTML=e.name,t[0].innerHTML=`${Math.round(1*(e.main.temp-273))}&#176;`,t[1].innerHTML=`${e.main.humidity}%`,t[2].innerHTML=`${e.wind.speed} m/s`,t[3].innerHTML=`${e.clouds.all}%`,document.getElementsByClassName("dates")[0].style.display="block"})).catch((e=>{console.log(e),alert("something went wrong")}))})();